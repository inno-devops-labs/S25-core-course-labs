# Lab 12

## Task 1

### add visits volume to docker-compose

![image](https://github.com/user-attachments/assets/15f8944f-c74e-49c8-8b02-0d7369410ae7)

![image](https://github.com/user-attachments/assets/7c78bc4b-706f-44a3-a0f6-cee3a5858e02)


### visit `/` and `/visits` to check that everything is working
![image](https://github.com/user-attachments/assets/a98221b3-da54-47c5-bc7a-2f14794b677f)


## Task 2

### create `files/config.json`

![image](https://github.com/user-attachments/assets/ff20cd66-f527-4033-a709-923691ea22ba)


### create `templates/configmap.yaml`

![image](https://github.com/user-attachments/assets/402f824e-7096-4b4e-93a1-ae8aa982df71)


### update `templates/deployment.yaml`

```yaml
...
          volumeMounts:
            - name: app-config-volume
              mountPath: /app_python/config
...

      volumes:
        - name: app-config-volume
          configMap:
            name: app-config
...
```

### upgrade helm chart

![image](https://github.com/user-attachments/assets/3e4856ab-5311-4fd7-a1f7-f5c93ed323e1)


### kubectl get po

![image](https://github.com/user-attachments/assets/6b953174-41e6-4364-baa3-873528287f2c)


### check that configmap is mounted to pod

![image](https://github.com/user-attachments/assets/dfa50a8b-87f0-4cce-82d3-50c3d693452f)
