## Config maps

The output of the `kubectl get po` command:
```bash 
NAME                                        READY   STATUS    RESTARTS     AGE
helm-hooks-moscow-time-5bb6b97b5b-lz4d6     1/1     Running   1 (8d ago)   8d
helm-hooks-moscow-time-5bb6b97b5b-vgkph     1/1     Running   1 (8d ago)   8d
helm-hooks-moscow-time-5bb6b97b5b-xmksx     1/1     Running   1 (8d ago)   8d
moscow-time-deployment-6bcbb8d58c-7nw7n     1/1     Running   2 (8d ago)   8d
moscow-time-deployment-6bcbb8d58c-jcsp7     1/1     Running   2 (8d ago)   8d
moscow-time-deployment-6bcbb8d58c-pqcnv     1/1     Running   2 (8d ago)   8d
my-release-4-moscow-time-7756ff6ff9-52mx6   2/2     Running   0            110s
my-release-4-moscow-time-7756ff6ff9-8qhbz   2/2     Running   0            110s
my-release-4-moscow-time-7756ff6ff9-txj4s   2/2     Running   0            110s
vault-0                                     1/1     Running   0            4h8m
vault-agent-injector-66f45b5fd5-vfdvd       1/1     Running   0            4h8m
```

The output of the `kubectl describe pod my-release-4-moscow-time-7756ff6ff9-txj4s` command:
```
Name:             my-release-4-moscow-time-7756ff6ff9-txj4s
Namespace:        default
Priority:         0
Service Account:  moscow-time-service-account
Node:             minikube/192.168.49.2
Start Time:       Sun, 09 Mar 2025 23:46:20 +0300
Labels:           app.kubernetes.io/instance=my-release-4
                  app.kubernetes.io/managed-by=Helm
                  app.kubernetes.io/name=moscow-time
                  app.kubernetes.io/version=1.16.0
                  helm.sh/chart=moscow-time-0.1.0
                  pod-template-hash=7756ff6ff9
Annotations:      vault.hashicorp.com/agent-inject: true
                  vault.hashicorp.com/agent-inject-secret-database-config.txt: internal/data/database/config
                  vault.hashicorp.com/agent-inject-status: injected
                  vault.hashicorp.com/role: my-role
Status:           Running
IP:               10.244.0.109
IPs:
  IP:           10.244.0.109
Controlled By:  ReplicaSet/my-release-4-moscow-time-7756ff6ff9
Init Containers:
  vault-agent-init:
    Container ID:  docker://d4728627fd0ac6d4de38767f19e3b826849abe270a0e3a3e8e866dcd2812dd02
    Image:         hashicorp/vault:1.18.1
    Image ID:      docker-pullable://hashicorp/vault@sha256:3580fa352195aa7e76449cb8fadeef6d2f90a454c38982d30cf094e9013be786
    Port:          <none>
    Host Port:     <none>
    Command:
      /bin/sh
      -ec
    Args:
      echo ${VAULT_CONFIG?} | base64 -d > /home/vault/config.json && vault agent -config=/home/vault/config.json
    State:          Terminated
      Reason:       Completed
      Exit Code:    0
      Started:      Sun, 09 Mar 2025 23:46:21 +0300
      Finished:     Sun, 09 Mar 2025 23:46:22 +0300
    Ready:          True
    Restart Count:  0
    Limits:
      cpu:     500m
      memory:  128Mi
    Requests:
      cpu:     250m
      memory:  64Mi
    Environment:
      NAMESPACE:         default (v1:metadata.namespace)
      HOST_IP:            (v1:status.hostIP)
      POD_IP:             (v1:status.podIP)
      VAULT_LOG_LEVEL:   info
      VAULT_LOG_FORMAT:  standard
      VAULT_CONFIG:      eyJhdXRvX2F1dGgiOnsibWV0aG9kIjp7InR5cGUiOiJrdWJlcm5ldGVzIiwibW91bnRfcGF0aCI6ImF1dGgva3ViZXJuZXRlcyIsImNvbmZpZyI6eyJyb2xlIjoibXktcm9sZSIsInRva2VuX3BhdGgiOiIvdmFyL3J1bi9zZWNyZXRzL2t1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvdG9rZW4ifX0sInNpbmsiOlt7InR5cGUiOiJmaWxlIiwiY29uZmlnIjp7InBhdGgiOiIvaG9tZS92YXVsdC8udmF1bHQtdG9rZW4ifX1dfSwiZXhpdF9hZnRlcl9hdXRoIjp0cnVlLCJwaWRfZmlsZSI6Ii9ob21lL3ZhdWx0Ly5waWQiLCJ2YXVsdCI6eyJhZGRyZXNzIjoiaHR0cDovL3ZhdWx0LmRlZmF1bHQuc3ZjOjgyMDAifSwidGVtcGxhdGUiOlt7ImRlc3RpbmF0aW9uIjoiL3ZhdWx0L3NlY3JldHMvZGF0YWJhc2UtY29uZmlnLnR4dCIsImNvbnRlbnRzIjoie3sgd2l0aCBzZWNyZXQgXCJpbnRlcm5hbC9kYXRhL2RhdGFiYXNlL2NvbmZpZ1wiIH19e3sgcmFuZ2UgJGssICR2IDo9IC5EYXRhIH19e3sgJGsgfX06IHt7ICR2IH19XG57eyBlbmQgfX17eyBlbmQgfX0iLCJsZWZ0X2RlbGltaXRlciI6Int7IiwicmlnaHRfZGVsaW1pdGVyIjoifX0ifV0sInRlbXBsYXRlX2NvbmZpZyI6eyJleGl0X29uX3JldHJ5X2ZhaWx1cmUiOnRydWV9fQ==
    Mounts:
      /home/vault from home-init (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-95g8r (ro)
      /vault/secrets from vault-secrets (rw)
Containers:
  moscow-time:
    Container ID:   docker://3abfb7a08598e2087858e8f1c9d929113c0e899cfb48c52cf68185b903e79d9a
    Image:          macoyshev/moscow-time:latest
    Image ID:       docker-pullable://macoyshev/moscow-time@sha256:aaeaf2d6fcd37c5dfc7097650510a987d03c4c60f719e2a5a8ad2dd010f45962
    Port:           8000/TCP
    Host Port:      0/TCP
    State:          Running
      Started:      Sun, 09 Mar 2025 23:46:22 +0300
    Ready:          True
    Restart Count:  0
    Liveness:       http-get http://:8000/ delay=0s timeout=1s period=10s #success=1 #failure=3
    Readiness:      http-get http://:8000/ delay=0s timeout=1s period=10s #success=1 #failure=3
    Environment:
      MY_PASSWORD:  <set to the key 'password' in secret 'secret'>  Optional: false
    Mounts:
      /config from config-volume (ro)
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-95g8r (ro)
      /vault/secrets from vault-secrets (rw)
  vault-agent:
    Container ID:  docker://0922d64d19b49cae24a0d388780bfce0435e8cc3fef2cf5df4e60f2fed398863
    Image:         hashicorp/vault:1.18.1
    Image ID:      docker-pullable://hashicorp/vault@sha256:3580fa352195aa7e76449cb8fadeef6d2f90a454c38982d30cf094e9013be786
    Port:          <none>
    Host Port:     <none>
    Command:
      /bin/sh
      -ec
    Args:
      echo ${VAULT_CONFIG?} | base64 -d > /home/vault/config.json && vault agent -config=/home/vault/config.json
    State:          Running
      Started:      Sun, 09 Mar 2025 23:46:23 +0300
    Ready:          True
    Restart Count:  0
    Limits:
      cpu:     500m
      memory:  128Mi
    Requests:
      cpu:     250m
      memory:  64Mi
    Environment:
      NAMESPACE:         default (v1:metadata.namespace)
      HOST_IP:            (v1:status.hostIP)
      POD_IP:             (v1:status.podIP)
      VAULT_LOG_LEVEL:   info
      VAULT_LOG_FORMAT:  standard
      VAULT_CONFIG:      eyJhdXRvX2F1dGgiOnsibWV0aG9kIjp7InR5cGUiOiJrdWJlcm5ldGVzIiwibW91bnRfcGF0aCI6ImF1dGgva3ViZXJuZXRlcyIsImNvbmZpZyI6eyJyb2xlIjoibXktcm9sZSIsInRva2VuX3BhdGgiOiIvdmFyL3J1bi9zZWNyZXRzL2t1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvdG9rZW4ifX0sInNpbmsiOlt7InR5cGUiOiJmaWxlIiwiY29uZmlnIjp7InBhdGgiOiIvaG9tZS92YXVsdC8udmF1bHQtdG9rZW4ifX1dfSwiZXhpdF9hZnRlcl9hdXRoIjpmYWxzZSwicGlkX2ZpbGUiOiIvaG9tZS92YXVsdC8ucGlkIiwidmF1bHQiOnsiYWRkcmVzcyI6Imh0dHA6Ly92YXVsdC5kZWZhdWx0LnN2Yzo4MjAwIn0sInRlbXBsYXRlIjpbeyJkZXN0aW5hdGlvbiI6Ii92YXVsdC9zZWNyZXRzL2RhdGFiYXNlLWNvbmZpZy50eHQiLCJjb250ZW50cyI6Int7IHdpdGggc2VjcmV0IFwiaW50ZXJuYWwvZGF0YS9kYXRhYmFzZS9jb25maWdcIiB9fXt7IHJhbmdlICRrLCAkdiA6PSAuRGF0YSB9fXt7ICRrIH19OiB7eyAkdiB9fVxue3sgZW5kIH19e3sgZW5kIH19IiwibGVmdF9kZWxpbWl0ZXIiOiJ7eyIsInJpZ2h0X2RlbGltaXRlciI6In19In1dLCJ0ZW1wbGF0ZV9jb25maWciOnsiZXhpdF9vbl9yZXRyeV9mYWlsdXJlIjp0cnVlfX0=
    Mounts:
      /home/vault from home-sidecar (rw)
      /var/run/secrets/kubernetes.io/serviceaccount from kube-api-access-95g8r (ro)
      /vault/secrets from vault-secrets (rw)
Conditions:
  Type                        Status
  PodReadyToStartContainers   True 
  Initialized                 True 
  Ready                       True 
  ContainersReady             True 
  PodScheduled                True 
Volumes:
  config-volume:
    Type:      ConfigMap (a volume populated by a ConfigMap)
    Name:      moscow-time-config
    Optional:  false
  kube-api-access-95g8r:
    Type:                    Projected (a volume that contains injected data from multiple sources)
    TokenExpirationSeconds:  3607
    ConfigMapName:           kube-root-ca.crt
    ConfigMapOptional:       <nil>
    DownwardAPI:             true
  home-init:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     Memory
    SizeLimit:  <unset>
  home-sidecar:
    Type:       EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:     Memory
    SizeLimit:  <unset>
  vault-secrets:
    Type:        EmptyDir (a temporary directory that shares a pod's lifetime)
    Medium:      Memory
    SizeLimit:   <unset>
QoS Class:       Burstable
Node-Selectors:  <none>
Tolerations:     node.kubernetes.io/not-ready:NoExecute op=Exists for 300s
                 node.kubernetes.io/unreachable:NoExecute op=Exists for 300s
Events:
  Type     Reason     Age    From               Message
  ----     ------     ----   ----               -------
  Normal   Scheduled  2m20s  default-scheduler  Successfully assigned default/my-release-4-moscow-time-7756ff6ff9-txj4s to minikube
  Normal   Pulled     2m19s  kubelet            Container image "hashicorp/vault:1.18.1" already present on machine
  Normal   Created    2m19s  kubelet            Created container: vault-agent-init
  Normal   Started    2m19s  kubelet            Started container vault-agent-init
  Normal   Pulled     2m18s  kubelet            Container image "macoyshev/moscow-time:latest" already present on machine
  Normal   Created    2m18s  kubelet            Created container: moscow-time
  Normal   Started    2m18s  kubelet            Started container moscow-time
  Normal   Pulled     2m18s  kubelet            Container image "hashicorp/vault:1.18.1" already present on machine
  Normal   Created    2m17s  kubelet            Created container: vault-agent
  Normal   Started    2m17s  kubelet            Started container vault-agent
  Warning  Unhealthy  2m17s  kubelet            Readiness probe failed: Get "http://10.244.0.109:8000/": dial tcp 10.244.0.109:8000: connect: connection refused
```

The output of the `kubectl exec my-release-4-moscow-time-7756ff6ff9-txj4s -- cat /config/config.json` command:
```
Defaulted container "moscow-time" out of: moscow-time, vault-agent, vault-agent-init (init)

{
  "timezone": "Europe/Moscow"
}
```
