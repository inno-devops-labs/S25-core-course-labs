# ConfigMap Implementation

I add directory `files` with `config.json`. Update `deployment.yaml` and `configmap.yaml`.

Install the updated Helm chart:

```bash
helm upgrade --install moscow-time .
```

```bash
ebob@laptop moscow-time % helm upgrade --install moscow-time .
Release "moscow-time" has been upgraded. Happy Helming!
NAME: moscow-time
LAST DEPLOYED: Sun Mar 16 16:38:02 2025
NAMESPACE: default
STATUS: deployed
REVISION: 6
ebob@laptop moscow-time % kubectl get configmap
NAME                 DATA   AGE
kube-root-ca.crt     1      16d
moscow-time-config   1      12s
ebob@laptop moscow-time % kubectl describe configmap moscow-time-config
Name:         moscow-time-config
Namespace:    default
Labels:       app.kubernetes.io/managed-by=Helm
Annotations:  meta.helm.sh/release-name: moscow-time
              meta.helm.sh/release-namespace: default

Data
====
config.json:
----
{
    "name": "Evgeny",
    "surname": "Bobkunov"
}


BinaryData
====

Events:  <none>

ebob@laptop moscow-time % kubectl get po
NAME                                    READY   STATUS      RESTARTS      AGE
moscow-time-58dc48f497-4h2bz            0/2     Completed   0             11d
moscow-time-58dc48f497-7bjbd            0/2     Completed   0             11d
moscow-time-58dc48f497-jjqjc            0/2     Completed   0             11d
moscow-time-74cc99dbdd-kwrgj            2/2     Running     0             32s
omsk-time-6c7f4d9765-mr2j4              1/1     Running     1 (9d ago)    11d
omsk-time-6c7f4d9765-sf75t              1/1     Running     1 (9d ago)    11d
omsk-time-6c7f4d9765-xsmfp              1/1     Running     1 (9d ago)    11d
vault-0                                 1/1     Running     1 (70m ago)   11d
vault-agent-injector-66f45b5fd5-hnvjp   1/1     Running     1 (9d ago)    11d

ebob@laptop moscow-time % kubectl exec -it moscow-time-74cc99dbdd-kwrgj --container moscow-time -- /bin/sh
/app $ cd ..
/ $ ls -a
.           .dockerenv  bin         dev         home        media       opt         root        sbin        sys         usr         vault
..          app         data        etc         lib         mnt         proc        run         srv         tmp         var
/ $ cd data/
/data $ ls -a
.            ..           config.json
/data $ cat config.json
{
  "name": "Evgeny",
  "surname": "Bobkunov"
}
/data $ exit

```
