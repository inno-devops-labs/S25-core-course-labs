## Lab 13: ArgoCD for GitOps Deployment
- Daniil Vasilev, d.vasilev@innopolis.university

### Task 1 & 2

#### Step 6: Documentation

- After Task 2.4 was done: 
![alt text](image.png)
- Self-Healing Test 1 (Sync Included)
    1. ![alt text](image-1.png)
- Self-Healing Test 2
    1. ![alt text](image-2.png)
- Sync after self-healing test 2
    1. ![alt text](image-3.png)
    2. ![alt text](image-4.png)

#### How ArgoCD handles configuration drift vs. runtime events?

ArgoCD continuously monitors the desired state of applications defined in **Git** and ensures that the actual state in the cluster matches this desired state

- **1. Configuration Drift**
    - If someone modifies a Kubernetes resource manually (e.g., changing replica count via `kubectl patch`) ArgoCD detects the drift
    - The app’s status changes to **"OutOfSync"** in ArgoCD
    - If **auto-sync** is enabled, ArgoCD will revert the changes to match the Git repository

- **2. Runtime Events**
    - Some events happen naturally in Kubernetes, such as:
        1. Pod restarts due to node failures
        2. Recreations of missing pods
        3. Horizontal Autoscalings

    - ArgoCD does **not** consider these as drift because they do not modify the desired configuration in Git
    - Pods can restart or be replaced, but ArgoCD will still show the app as **"Synced"** as long as the Deployment spec remains unchanged

- **Summing up:**
    - **Configuration Drift** (manual changes via `kubectl apply`, `patch`, etc.) → ArgoCD detects and fixes it
    - **Runtime Events** (pod crashes, node failures) → Kubernetes handles it; ArgoCD does NOT intervene