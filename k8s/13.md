# Task 1

```sh
❯ argocd app sync your-app
Handling connection for 8080
E0316 09:24:52.050942   16864 portforward.go:391] "Unhandled Error" err="error copying from remote stream to local connection: readfrom tcp6 [::1]:8080->[::1]:60210: write tcp6 [::1]:8080->[::1]:60210: write: broken pipe"
Handling connection for 8080
Handling connection for 8080
Handling connection for 8080
TIMESTAMP                  GROUP        KIND       NAMESPACE                  NAME    STATUS   HEALTH        HOOK  MESSAGE
2025-03-16T09:24:53+03:00          ConfigMap         default       your-app-config    Synced
2025-03-16T09:24:53+03:00             Secret         default             my-secret    Synced
2025-03-16T09:24:53+03:00            Service         default              your-app    Synced  Healthy
2025-03-16T09:24:53+03:00         ServiceAccount     default              your-app    Synced
2025-03-16T09:24:53+03:00   apps  Deployment         default              your-app    Synced  Healthy
2025-03-16T09:24:53+03:00  batch         Job     default      pre-install-hook
2025-03-16T09:24:55+03:00  batch         Job     default      pre-install-hook   Running   Synced     PreSync  job.batch/pre-install-hook created
2025-03-16T09:25:05+03:00          ConfigMap         default       your-app-config    Synced                        configmap/your-app-config unchanged
2025-03-16T09:25:05+03:00            Service         default              your-app    Synced   Healthy              service/your-app unchanged
2025-03-16T09:25:05+03:00   apps  Deployment         default              your-app    Synced   Healthy              deployment.apps/your-app unchanged
2025-03-16T09:25:05+03:00  batch         Job         default      pre-install-hook  Succeeded   Synced     PreSync  Reached expected number of succeeded pods
2025-03-16T09:25:05+03:00         ServiceAccount     default              your-app    Synced                        serviceaccount/your-app unchanged
2025-03-16T09:25:05+03:00             Secret         default             my-secret    Synced                        secret/my-secret unchanged
2025-03-16T09:25:05+03:00  batch         Job     default     post-install-hook   Running   Synced    PostSync  job.batch/post-install-hook created
2025-03-16T09:25:31+03:00  batch         Job     default     post-install-hook  Succeeded   Synced    PostSync  Reached expected number of succeeded pods
Handling connection for 8080

E0316 09:25:33.129097   16864 portforward.go:391] "Unhandled Error" err="error copying from remote stream to local connection: readfrom tcp6 [::1]:8080->[::1]:44590: write tcp6 [::1]:8080->[::1]:44590: write: broken pipe"
Handling connection for 8080
Name:               argocd/your-app
Project:            default
Server:             https://kubernetes.default.svc
Namespace:          default
URL:                https://argocd.example.com/applications/your-app
Source:
- Repo:             https://github.com/favelanky/S25-core-course-labs.git
  Target:           lab13
  Path:             k8s/your-app
  Helm Values:      values.yaml
SyncWindow:         Sync Allowed
Sync Policy:        Automated
Sync Status:        Synced to lab13 (bcc7a24)
Health Status:      Healthy

Operation:          Sync
Sync Revision:      bcc7a249b19956d2917104c8b9a41235cd25d7ba
Phase:              Succeeded
Start:              2025-03-16 09:24:52 +0300 MSK
Finished:           2025-03-16 09:25:31 +0300 MSK
Duration:           39s
Message:            successfully synced (no more tasks)

GROUP  KIND            NAMESPACE  NAME               STATUS     HEALTH   HOOK      MESSAGE
batch  Job             default    pre-install-hook   Succeeded           PreSync   Reached expected number of succeeded pods
       ServiceAccount  default    your-app           Synced                        serviceaccount/your-app unchanged
       Secret          default    my-secret          Synced                        secret/my-secret unchanged
       ConfigMap       default    your-app-config    Synced                        configmap/your-app-config unchanged
       Service         default    your-app           Synced     Healthy            service/your-app unchanged
apps   Deployment      default    your-app           Synced     Healthy            deployment.apps/your-app unchanged
batch  Job             default    post-install-hook  Succeeded           PostSync  Reached expected number of succeeded pods
```

## 1 replica

```sh
❯ argocd app get your-app
Handling connection for 8080
Handling connection for 8080
Handling connection for 8080
Handling connection for 8080
Handling connection for 8080
Name:               argocd/your-app
Project:            default
Server:             https://kubernetes.default.svc
Namespace:          default
URL:                https://argocd.example.com/applications/your-app
Source:
- Repo:             https://github.com/favelanky/S25-core-course-labs.git
  Target:           lab13
  Path:             k8s/your-app
  Helm Values:      values.yaml
SyncWindow:         Sync Allowed
Sync Policy:        Automated
Sync Status:        Synced to lab13 (bcc7a24)
Health Status:      Healthy

GROUP  KIND            NAMESPACE  NAME               STATUS     HEALTH   HOOK      MESSAGE
batch  Job             default    pre-install-hook   Succeeded           PreSync   Reached expected number of succeeded pods
       ServiceAccount  default    your-app           Synced                        serviceaccount/your-app unchanged
       Secret          default    my-secret          Synced                        secret/my-secret unchanged
       ConfigMap       default    your-app-config    Synced                        configmap/your-app-config unchanged
       Service         default    your-app           Synced     Healthy            service/your-app unchanged
apps   Deployment      default    your-app           Synced     Healthy            deployment.apps/your-app unchanged
batch  Job             default    post-install-hook  Succeeded           PostSync  Reached expected number of succeeded pods

❯ kubectl get deployments

NAME       READY   UP-TO-DATE   AVAILABLE   AGE
your-app   1/1     1            1           88m
```

## 2 replica


```sh
❯ argocd app sync your-app
Handling connection for 8080
Handling connection for 8080
Handling connection for 8080
Handling connection for 8080
TIMESTAMP                  GROUP        KIND       NAMESPACE                  NAME    STATUS   HEALTH        HOOK  MESSAGE
2025-03-16T09:32:57+03:00         ServiceAccount     default              your-app    Synced
2025-03-16T09:32:57+03:00   apps  Deployment         default              your-app    Synced  Healthy
2025-03-16T09:32:57+03:00          ConfigMap         default       your-app-config    Synced
2025-03-16T09:32:57+03:00             Secret         default             my-secret    Synced
2025-03-16T09:32:57+03:00            Service         default              your-app    Synced  Healthy
2025-03-16T09:32:59+03:00  batch         Job     default      pre-install-hook
2025-03-16T09:33:01+03:00  batch         Job     default      pre-install-hook   Running   Synced     PreSync  job.batch/pre-install-hook created
2025-03-16T09:33:12+03:00   apps  Deployment     default              your-app  OutOfSync  Progressing
2025-03-16T09:33:14+03:00   apps  Deployment     default              your-app  OutOfSync  Healthy
2025-03-16T09:33:14+03:00   apps  Deployment         default              your-app  OutOfSync  Healthy              deployment.apps/your-app configured
2025-03-16T09:33:14+03:00  batch         Job         default      pre-install-hook  Succeeded   Synced     PreSync  Reached expected number of succeeded pods
2025-03-16T09:33:14+03:00         ServiceAccount     default              your-app    Synced                        serviceaccount/your-app unchanged
2025-03-16T09:33:14+03:00             Secret         default             my-secret    Synced                        secret/my-secret unchanged
2025-03-16T09:33:14+03:00          ConfigMap         default       your-app-config    Synced                        configmap/your-app-config unchanged
2025-03-16T09:33:14+03:00            Service         default              your-app    Synced   Healthy              service/your-app unchanged
2025-03-16T09:33:14+03:00  batch         Job     default     post-install-hook   Running   Synced    PostSync  job.batch/post-install-hook created
2025-03-16T09:33:40+03:00  batch         Job     default     post-install-hook  Succeeded   Synced    PostSync  Reached expected number of succeeded pods
Handling connection for 8080

E0316 09:33:42.301051   16864 portforward.go:391] "Unhandled Error" err="error copying from remote stream to local connection: readfrom tcp6 [::1]:8080->[::1]:35174: write tcp6 [::1]:8080->[::1]:35174: write: broken pipe"
Handling connection for 8080
Name:               argocd/your-app
Project:            default
Server:             https://kubernetes.default.svc
Namespace:          default
URL:                https://argocd.example.com/applications/your-app
Source:
- Repo:             https://github.com/favelanky/S25-core-course-labs.git
  Target:           lab13
  Path:             k8s/your-app
  Helm Values:      values.yaml
SyncWindow:         Sync Allowed
Sync Policy:        Automated
Sync Status:        Synced to lab13 (44bc5c4)
Health Status:      Healthy

Operation:          Sync
Sync Revision:      44bc5c413f7671c979a150d6f63f8b1ac2b6f904
Phase:              Succeeded
Start:              2025-03-16 09:32:57 +0300 MSK
Finished:           2025-03-16 09:33:40 +0300 MSK
Duration:           43s
Message:            successfully synced (no more tasks)

GROUP  KIND            NAMESPACE  NAME               STATUS     HEALTH   HOOK      MESSAGE
batch  Job             default    pre-install-hook   Succeeded           PreSync   Reached expected number of succeeded pods
       ServiceAccount  default    your-app           Synced                        serviceaccount/your-app unchanged
       Secret          default    my-secret          Synced                        secret/my-secret unchanged
       ConfigMap       default    your-app-config    Synced                        configmap/your-app-config unchanged
       Service         default    your-app           Synced     Healthy            service/your-app unchanged
apps   Deployment      default    your-app           Synced     Healthy            deployment.apps/your-app configured
batch  Job             default    post-install-hook  Succeeded           PostSync  Reached expected number of succeeded pods
❯ kubectl get deployments

NAME       READY   UP-TO-DATE   AVAILABLE   AGE
your-app   2/2     2            2           89m
```
