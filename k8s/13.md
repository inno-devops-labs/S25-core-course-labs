```commandline
2025-04-28T15:55:19+03:00             Secret            prod  python-app-my-app-secret    Synced                        
2025-04-28T15:55:19+03:00         ServiceAccount     default     python-app-my-app      OutOfSync                       
2025-04-28T15:55:19+03:00         ServiceAccount        prod     python-app-my-app        Synced                        
2025-04-28T15:55:19+03:00   apps  Deployment         default     python-app-my-app      OutOfSync  Healthy              
2025-04-28T15:55:19+03:00   apps  Deployment            prod     python-app-my-app      OutOfSync  Healthy              
2025-04-28T15:55:19+03:00          ConfigMap         default     python-app-config      OutOfSync                       
2025-04-28T15:55:19+03:00          ConfigMap            prod     python-app-config        Synced                        
2025-04-28T15:55:19+03:00             Secret         default  python-app-my-app-secret  OutOfSync                       
2025-04-28T15:55:19+03:00            Service         default     python-app-my-app      OutOfSync  Healthy              
2025-04-28T15:55:19+03:00            Service            prod     python-app-my-app        Synced   Healthy              
2025-04-28T15:55:20+03:00                Pod        prod       preinstall-hook                                 
2025-04-28T15:55:22+03:00                Pod        prod       preinstall-hook   Running   Synced     PreSync  pod/preinstall-hook created
2025-04-28T15:55:22+03:00                Pod        prod       preinstall-hook   Running   Synced     PreSync  pod/preinstall-hook unchanged
2025-04-28T15:55:44+03:00   apps  Deployment        prod     python-app-my-app  OutOfSync  Progressing              
2025-04-28T15:55:44+03:00   apps  Deployment        prod     python-app-my-app  OutOfSync  Healthy              
2025-04-28T15:55:46+03:00            Service            prod     python-app-my-app        Synced   Healthy              service/python-app-my-app unchanged
2025-04-28T15:55:46+03:00   apps  Deployment            prod     python-app-my-app      OutOfSync  Healthy              deployment.apps/python-app-my-app configured
2025-04-28T15:55:46+03:00                Pod            prod       preinstall-hook      Succeeded   Synced     PreSync  pod/preinstall-hook unchanged
2025-04-28T15:55:46+03:00         ServiceAccount     default     python-app-my-app      OutOfSync                       ignored (requires pruning)
2025-04-28T15:55:46+03:00            Service         default     python-app-my-app      OutOfSync  Healthy              ignored (requires pruning)
2025-04-28T15:55:46+03:00          ConfigMap         default     python-app-config      OutOfSync                       ignored (requires pruning)
2025-04-28T15:55:46+03:00   apps  Deployment         default     python-app-my-app      OutOfSync  Healthy              ignored (requires pruning)
2025-04-28T15:55:46+03:00             Secret            prod  python-app-my-app-secret    Synced                        secret/python-app-my-app-secret unchanged
2025-04-28T15:55:46+03:00          ConfigMap            prod     python-app-config        Synced                        configmap/python-app-config unchanged
2025-04-28T15:55:46+03:00             Secret         default  python-app-my-app-secret  OutOfSync                       ignored (requires pruning)
2025-04-28T15:55:46+03:00         ServiceAccount        prod     python-app-my-app        Synced                        serviceaccount/python-app-my-app unchanged
2025-04-28T15:55:46+03:00                Pod        prod      postinstall-hook   Running   Synced    PostSync  pod/postinstall-hook created
2025-04-28T15:55:46+03:00                Pod        prod      postinstall-hook   Running   Synced    PostSync  pod/postinstall-hook unchanged
2025-04-28T15:56:09+03:00                Pod        prod      postinstall-hook  Succeeded   Synced    PostSync  pod/postinstall-hook unchanged

Name:               argocd/python-app
Project:            default
Server:             https://kubernetes.default.svc
Namespace:          prod
URL:                https://argocd.example.com/applications/python-app
Source:
- Repo:             https://github.com/Dema-koder/S25-core-course-labs.git
  Target:           lab13
  Path:             k8s/my-app
  Helm Values:      values-prod.yaml
SyncWindow:         Sync Allowed
Sync Policy:        Automated
Sync Status:        OutOfSync from lab13 (9ebc1d2)
Health Status:      Healthy

Operation:          Sync
Sync Revision:      9ebc1d2554c6ecf5b36a7fc11ff5b83e0c398fa4
Phase:              Succeeded
Start:              2025-04-28 15:55:19 +0300 MSK
Finished:           2025-04-28 15:56:09 +0300 MSK
Duration:           50s
Message:            successfully synced (no more tasks)

GROUP  KIND            NAMESPACE  NAME                      STATUS     HEALTH   HOOK      MESSAGE
       Pod             prod       preinstall-hook           Succeeded           PreSync   pod/preinstall-hook unchanged
       ServiceAccount  default    python-app-my-app         OutOfSync                     ignored (requires pruning)
       Service         default    python-app-my-app         OutOfSync  Healthy            ignored (requires pruning)
       ConfigMap       default    python-app-config         OutOfSync                     ignored (requires pruning)
apps   Deployment      default    python-app-my-app         OutOfSync  Healthy            ignored (requires pruning)
       Secret          default    python-app-my-app-secret  OutOfSync                     ignored (requires pruning)
       ServiceAccount  prod       python-app-my-app         Synced                        serviceaccount/python-app-my-app unchanged
       Secret          prod       python-app-my-app-secret  Synced                        secret/python-app-my-app-secret unchanged
       ConfigMap       prod       python-app-config         Synced                        configmap/python-app-config unchanged
       Service         prod       python-app-my-app         Synced     Healthy            service/python-app-my-app unchanged
apps   Deployment      prod       python-app-my-app         OutOfSync  Healthy            deployment.apps/python-app-my-app configured
       Pod             prod       postinstall-hook          Succeeded           PostSync  pod/postinstall-hook unchanged

```

```commandline
demanzverev@MacBook-Pro-Deman ArgoCD % kubectl get pods -n prod
NAME                                READY   STATUS    RESTARTS   AGE
python-app-my-app-984ffc5bc-4scbs   1/1     Running   0          7m14s
python-app-my-app-984ffc5bc-t4wb6   1/1     Running   0          7m14s
demanzverev@MacBook-Pro-Deman ArgoCD % kubectl get deployments -n prod
NAME                READY   UP-TO-DATE   AVAILABLE   AGE
python-app-my-app   2/2     2            2           8m31s
demanzverev@MacBook-Pro-Deman ArgoCD % kubectl patch deployment python-app-my-app -n prod --patch '{"spec":{"replicas": 3}}'
deployment.apps/python-app-my-app patched
demanzverev@MacBook-Pro-Deman ArgoCD % kubectl get pods -n prod                                                              
NAME                                READY   STATUS    RESTARTS   AGE
python-app-my-app-984ffc5bc-4scbs   1/1     Running   0          8m52s
python-app-my-app-984ffc5bc-g2zts   1/1     Running   0          5s
python-app-my-app-984ffc5bc-t4wb6   1/1     Running   0          8m52s
demanzverev@MacBook-Pro-Deman ArgoCD % 
```

```commandline
demanzverev@MacBook-Pro-Deman ArgoCD % kubectl get pods -n prod                                                              
NAME                                READY   STATUS    RESTARTS   AGE
python-app-my-app-984ffc5bc-4scbs   1/1     Running   0          8m52s
python-app-my-app-984ffc5bc-g2zts   1/1     Running   0          5s
python-app-my-app-984ffc5bc-t4wb6   1/1     Running   0          8m52s
demanzverev@MacBook-Pro-Deman ArgoCD % kubectl delete pod -n prod python-app-my-app-984ffc5bc-4scbs
pod "python-app-my-app-984ffc5bc-4scbs" deleted
demanzverev@MacBook-Pro-Deman ArgoCD % kubectl get pods -n prod -w
NAME                                READY   STATUS    RESTARTS   AGE
python-app-my-app-984ffc5bc-6ppmz   1/1     Running   0          10s
python-app-my-app-984ffc5bc-g2zts   1/1     Running   0          2m5s
python-app-my-app-984ffc5bc-t4wb6   1/1     Running   0          10m
```

![](/k8s/media/Снимок экрана 2025-04-28 в 15.40.30.png)
![](/k8s/media/Снимок экрана 2025-04-28 в 15.45.58.png)
![](/k8s/media/Снимок экрана 2025-04-28 в 15.46.08.png)
![](/k8s/media/Снимок экрана 2025-04-28 в 15.54.01.png)

### Explanation of ArgoCD Mechanisms

ArgoCD handles two types of discrepancies:

1. **Configuration Drift**:  
   When the actual cluster state differs from the desired state in Git (e.g., manual modification of replica count). ArgoCD detects this and restores the desired state.

2. **Runtime Events**:  
   Temporary changes such as pod failures. Kubernetes automatically recovers these states according to the manifests, and ArgoCD does not consider this a discrepancy since the desired state (e.g., replica count) remains unchanged.

### Key Differences:
- **Configuration Drift** → ArgoCD intervenes to enforce Git-defined state.
- **Runtime Events** → Kubernetes self-heals; ArgoCD monitors but doesn’t treat as drift.

This ensures Git remains the "source of truth" while allowing Kubernetes to manage transient issues.