# Lab 13: Multi-Environment Deployment & Auto-Sync in ArgoCD

## Test 1: Manual Override of Replica Count

### Screenshots

#### Before changing replicas (Synced & Healthy)

![Screenshot From 2025-03-09 21-10-13](https://github.com/user-attachments/assets/c29b5597-5d76-4ac8-bbcb-6201223afb28)

#### After increasing replicas to 5 (OutOfSync)

![Screenshot From 2025-03-09 21-10-42](https://github.com/user-attachments/assets/ffa3e092-d7b2-4fc1-8197-83a4856a917c)

#### After ArgoCD auto-reverts to 3 (Synced again)

![Screenshot From 2025-03-09 21-11-59](https://github.com/user-attachments/assets/f3f6bf62-c52f-4eb7-86b3-bfef8e2c6532)

## Test 2: Delete a Pod (Replica)

### Output before pod deletion

``` bash
NAME                                     READY   STATUS    RESTARTS   AGE
python-app-prod-my-app-677694d5b-b8bhb   1/1     Running   0          20m
python-app-prod-my-app-677694d5b-vbk6f   1/1     Running   0          20m
```

### Output after pod deletion

``` bash
NAME                                     READY   STATUS    RESTARTS   AGE
python-app-prod-my-app-677694d5b-b8bhb   1/1     Running   0          19s
python-app-prod-my-app-677694d5b-vbk6f   1/1     Running   0          19s
```

### Screenshots

#### After pod deletion

![Screenshot From 2025-03-09 21-24-53](https://github.com/user-attachments/assets/26b21ec8-e983-4854-bfcc-4cbdc66a2c7c)

## Explanation

Configuration Drift: Happens when manual changes (e.g., modifying replica count) differ from Git. ArgoCD detects this, marks the app as OutOfSync, and auto-reverts the change if auto-sync is enabled.
Runtime Events: Temporary changes (e.g., pod deletions) do not affect the desired state. Kubernetes self-heals by recreating pods, and ArgoCD does not interfere since the overall configuration remains unchanged.
