apiVersion: v1
kind: Pod
metadata:
  name: "{{ .Release.Name }}-pre-install-hook"
  annotations:
    "helm.sh/hook": pre-install
    "helm.sh/hook-weight": "-5"
    "helm.sh/hook-delete-policy": hook-succeeded
spec:
  containers:
  - name: pre-install-job
    image: busybox
    command: ['sh', '-c', 'echo "Pre-install hook starting" && sleep 10 && echo "Pre-install hook complete"']
  restartPolicy: Never 