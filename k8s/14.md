kubectl get po,sts,svc,pvc

NAME                          READY   STATUS    RESTARTS   AGE
pod/my-release-python-msk-0   1/1     Running   0          51m
pod/my-release-python-msk-1   1/1     Running   0          51m

NAME                                     READY   AGE
statefulset.apps/my-release-python-msk   2/2     51m

NAME                            TYPE        CLUSTER-IP      EXTERNAL-IP   PORT(S)        AGE
service/kubernetes              ClusterIP   10.96.0.1       <none>        443/TCP        31d
service/my-release-python-msk   NodePort    10.107.17.134   <none>        80:30707/TCP   15m

NAME                                      STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   VOLUMEATTRIBUTESCLASS   AGE
persistentvolumeclaim/data-python-msk-0   Bound    pvc-bb4ccb1b-c0a7-4df8-9518-aee37a1cd590   1Gi        RWO            standard       <unset>                 28d
persistentvolumeclaim/data-python-msk-1   Bound    pvc-2b4c1d30-5634-4f5d-9bc7-3f6533764b22   1Gi        RWO            standard       <unset>                 28d

kubectl exec pod/my-release-python-msk-0 -- cat visits.txt
16

kubectl exec pod/my-release-python-msk-1 -- cat visits.txt
15

These values differ, since The ClusterIP Service load balances requests, distributing traffic evenly.


kubectl exec my-release-python-msk -- nslookup my-release-python-msk-0.my-release-python-msk
Server:		10.96.0.10
Address:	10.96.0.10:53

How Probes Ensure Pod Health:

- Liveness probe  regularly checks if the container is still running properly. If not - restarts the container. This help to avoid crashed or deadlocked pods
- Readiness Probe: determines when the container is ready to accept traffic, so traffic only goes to pods that can handle requestss
s
Why critical for stateful apps - it prevents writes to pods that might be malfunctioning and helps to achieve consisntent behavior by enshuring all replicas are properly initialized

