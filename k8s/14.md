## Statefulset

The output of the `kubectl get po,sts,svc,pvc` command:
```
NAME                                          READY   STATUS    RESTARTS      AGE
pod/my-release-5-moscow-time-0                1/1     Running   0             4m29s
pod/my-release-5-moscow-time-1                1/1     Running   0             4m26s
pod/my-release-5-moscow-time-2                1/1     Running   0             4m24s
pod/python-app-moscow-time-6d4bc795bd-6h7xw   1/1     Running   1 (13h ago)   23h
pod/python-app-moscow-time-6d4bc795bd-82mhc   1/1     Running   1 (13h ago)   23h
pod/python-app-moscow-time-6d4bc795bd-8xt9j   1/1     Running   1 (13h ago)   23h

NAME                                        READY   AGE
statefulset.apps/my-release-5-moscow-time   3/3     4m30s

NAME                               TYPE        CLUSTER-IP    EXTERNAL-IP   PORT(S)          AGE
service/kubernetes                 ClusterIP   10.96.0.1     <none>        443/TCP          24h
service/my-release-5-moscow-time   ClusterIP   None          <none>        8000/TCP         4m30s
service/python-app-moscow-time     NodePort    10.108.9.81   <none>        8000:31375/TCP   23h

NAME                                                                  STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   VOLUMEATTRIBUTESCLASS   AGE
persistentvolumeclaim/persistence-volume-my-release-5-moscow-time-0   Bound    pvc-db1d530a-678e-4153-9269-c3e67615ac10   1Gi        RWO            standard       <unset>                 68m
persistentvolumeclaim/persistence-volume-my-release-5-moscow-time-1   Bound    pvc-ededadc7-1709-4241-b90e-d17164130a95   1Gi        RWO            standard       <unset>                 68m
persistentvolumeclaim/persistence-volume-my-release-5-moscow-time-2   Bound    pvc-bdae3882-9cda-4db7-8659-27d40c7b943f   1Gi        RWO            standard       <unset>                 68m
```

The output of the `minikube service my-release-5-moscow-time` command:
```
-----------|--------------------------|-------------|---------------------------|
| NAMESPACE |           NAME           | TARGET PORT |            URL            |
|-----------|--------------------------|-------------|---------------------------|
| default   | my-release-5-moscow-time | http/8000   | http://192.168.49.2:32077 |
|-----------|--------------------------|-------------|---------------------------|
üèÉ  Starting tunnel for service my-release-5-moscow-time.
|-----------|--------------------------|-------------|------------------------|
| NAMESPACE |           NAME           | TARGET PORT |          URL           |
|-----------|--------------------------|-------------|------------------------|
| default   | my-release-5-moscow-time |             | http://127.0.0.1:59401 |
|-----------|--------------------------|-------------|------------------------|
üéâ  Opening service default/my-release-5-moscow-time in default browser...
‚ùó  Because you are using a Docker driver on darwin, the terminal needs to be open to run it.
```

The output of the `kubectl exec pod/my-release-5-moscow-time-0 -- cat visits`
```
kubectl exec pod/my-release-5-moscow-time-0 -- cat visits
11
```

The output of the `kubectl exec pod/my-release-5-moscow-time-1 -- cat visits`
```
kubectl exec pod/my-release-5-moscow-time-1 -- cat visits
11
```

The output of the `kubectl exec pod/my-release-5-moscow-time-2 -- cat visits`
```
kubectl exec pod/my-release-5-moscow-time-1 -- cat visits
11
```

The output of the command:
```
kubectl exec my-release-5-moscow-time-0 -- nslookup my-release-5-moscow-time-1.my-release-5-moscow-time
Server:         10.96.0.10
Address:        10.96.0.10:53
```

### Questions
1) If a liveness probe endpoint fails to answer then k8s will restart the pod. Readness probe shows when a pod is ready to accept traffic if it response with error than k8s will redirect the traffic. Both endpoints is part of self-healing quality attribute
2) Both endpoints is part of self-healing quality attribute. They helps to detect issues and react on them. It is way probes are crutial

### Screenshots
The access from different tabs
![tabs](/k8s/media/14-tabs.png)

The access from an anonymous tab
![tabs](/k8s/media/14-anon.png)