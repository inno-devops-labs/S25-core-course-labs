# Lab 14
## kubectl get po,sts,svc,pvc
```bash
NAME                              READY   STATUS    RESTARTS        AGE
pod/app-9c45788fd-568d7           1/1     Running   1 (7d13h ago)   7d16h
pod/my-release-app-0              1/1     Running   0               3m48s
pod/my-release-app-1              1/1     Running   0               3m45s
pod/my-release-app-2              1/1     Running   0               3m41s
pod/python-app-57cc6ddb99-222vj   1/1     Running   0               17h
pod/python-app-57cc6ddb99-7g7xv   1/1     Running   0               17h
pod/python-app-57cc6ddb99-sgms8   1/1     Running   0               17h

NAME                              READY   AGE
statefulset.apps/my-release-app   3/3     3m48s

NAME                     TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)   AGE
service/app              ClusterIP   10.107.238.180   <none>        80/TCP    7d16h
service/kubernetes       ClusterIP   10.96.0.1        <none>        443/TCP   13d
service/my-release-app   ClusterIP   10.107.235.190   <none>        80/TCP    3m48s
service/python-app       ClusterIP   10.111.58.211    <none>        80/TCP    17h

NAME                                          STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   VOLUMEATTRIBUTESCLASS   AGE
persistentvolumeclaim/data-my-release-app-0   Bound    pvc-79c6ddec-a11f-457a-aaa9-045247e8db6e   1Gi        RWO            standard       <unset>                 3m48s
persistentvolumeclaim/data-my-release-app-1   Bound    pvc-11625e47-67e0-495d-a77f-6c59133227b5   1Gi        RWO            standard       <unset>                 3m45s
persistentvolumeclaim/data-my-release-app-2   Bound    pvc-5e9c0123-6de8-4e87-aa3e-3018fce00f8b   1Gi        RWO            standard       <unset>                 3m41s
```

## minikube service python-app
```bash
|-----------|------------|-------------|--------------|
| NAMESPACE |    NAME    | TARGET PORT |     URL      |
|-----------|------------|-------------|--------------|
| default   | python-app |             | No node port |
|-----------|------------|-------------|--------------|
üòø  service default/python-app has no node port
üèÉ  Starting tunnel for service python-app.
|-----------|------------|-------------|------------------------|
| NAMESPACE |    NAME    | TARGET PORT |          URL           |
|-----------|------------|-------------|------------------------|
| default   | python-app |             | http://127.0.0.1:55178 |
|-----------|------------|-------------|------------------------|
üéâ  Opening service default/python-app in default browser...
```

## kubectl exec pod/my-release-app-0 -- ls /data/visits.txt

```bash
6
```
## kubectl exec pod/my-release-app-1 -- ls /data/visits.txt
```bash
5
```
## kubectl exec pod/my-release-app-2 -- ls /data/visits.txt
```bash
7
```
We have different results because for every pod there is different file. 

## kubectl delete pod my-release-app-0

```bash
pod "my-release-app-0" deleted
```

## kubectl get pvc
```bash
NAME                    STATUS   VOLUME                                     CAPACITY   ACCESS MODES   STORAGECLASS   VOLUMEATTRIBUTESCLASS   AGE
data-my-release-app-0   Bound    pvc-79c6ddec-a11f-457a-aaa9-045247e8db6e   1Gi        RWO            standard       <unset>                 6h51m
data-my-release-app-1   Bound    pvc-11625e47-67e0-495d-a77f-6c59133227b5   1Gi        RWO            standard       <unset>                 6h51m
data-my-release-app-2   Bound    pvc-5e9c0123-6de8-4e87-aa3e-3018fce00f8b   1Gi        RWO            standard       <unset>                 6h51m
```

## kubectl exec pod/my-release-app-0 -- ls /data/visits.txt

```bash
15
```

Data is persist because number did nor reset.

## kubectl exec my-release-app-0 -- nslookup my-release-app-1.my-release-app

```bash
Server:         10.96.0.10
Address:        10.96.0.10:53

Name:   my-release-app-1.my-release-app.default.svc.cluster.local
Address: 10.244.1.5
```

Health tests ensure that the module is restarted if it stops responding to requests. Availability tests ensure that traffic is sent only to serviceable modules.


## Parallel Operations
```bash
podManagementPolicy: Parallel
```