# Lab 14: Kubernetes StatefulSet Report

## Task 1: StatefulSet Implementation and Exploration

### 1. StatefulSet and Pod Status

- Output of kubectl get po,sts,svc,pvc

```bash
saleem@saleem-MCLF-XX:~/Documents/DevOps/S25-core-course-labs/k8s$ kubectl get po,sts,svc,pvc
NAME                                        READY   STATUS      RESTARTS      AGE
pod/app-go-59fc744f59-wlz4p                 1/1     Running     3 (8h ago)    7d2h
pod/app-python-0                            0/1     Running     0             28s
pod/app-python-1                            0/1     Running     0             28s
pod/app-python-7d68cbfc76-6hqj2             0/1     Running     0             6s
pod/app-python-7d68cbfc76-nsv2h             0/1     Running     0             6s
pod/go-app-app-go-cbb68c5f-xhwmn            1/1     Running     0             54m
pod/preinstall-hook                         0/1     Completed   0             28s
pod/vault-0                                 1/1     Running     4 (8h ago)    7d7h
pod/vault-agent-injector-66f45b5fd5-brht5   1/1     Running     4 (8h ago)    7d7h
pod/vault-test                              1/1     Running     2 (59m ago)   179m

NAME                          READY   AGE
statefulset.apps/app-python   0/2     28s
statefulset.apps/vault        1/1     7d7h

NAME                               TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)             AGE
service/app-go                     ClusterIP   10.102.156.131   <none>        80/TCP              7d2h
service/app-python                 ClusterIP   10.104.79.202    <none>        8000/TCP            4h5m
service/go-app-app-go              ClusterIP   10.99.36.131     <none>        80/TCP              54m
service/kubernetes                 ClusterIP   10.96.0.1        <none>        443/TCP             12d
service/vault                      ClusterIP   10.111.114.30    <none>        8200/TCP,8201/TCP   7d7h
service/vault-agent-injector-svc   ClusterIP   10.98.209.177    <none>        443/TCP             7d7h
service/vault-internal             ClusterIP   None             <none>        8200/TCP,8201/TCP   7d7h
saleem@saleem-MCLF-XX:~/Documents/DevOps/S25-core-course-labs/k8s$ 
```

## 2. Accessing the Application

the application was accessed from:

```bash
saleem@saleem-MCLF-XX:~/Documents/DevOps/S25-core-course-labs$ kubectl exec pod/app-python-0 -- cat .data/visits
108saleem@saleem-MCLF-XX:~/Documents/DevOps/S25-core-course-labs$ kubectl exec pod/app-python-1 -- cat .data/visits
106saleem@saleem-MCLF-XX:~/Documents/DevOps/S25-core-course-labs$
```
The number of visits is different for each pod. This occurs because incoming requests are distributed across multiple pods, and each pod writes to its own visits file stored in its persistent volume. Since each replica maintains a separate counter, the visit counts vary across the pods.


## Task 2: Persistent Storage Validation

```bash
saleem@saleem-MCLF-XX:~/Documents/DevOps/S25-core-course-labs$ kubectl delete pod app-python-0
pod "app-python-0" deleted
```

## 2. Verifying Data Persistence
