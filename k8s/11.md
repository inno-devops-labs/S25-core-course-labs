# Task 1: Kubernetes Secrets and Resource Management

## Step 1: Create Secret
```sh
kubectl create secret generic my-secret --from-literal=MY_PASS=supersecret
```

## Step 2: Verify Secret
```sh
kubectl get secret my-secret -o jsonpath="{.data.MY_PASS}"
```
### Output:

```makefile
c3VwZXJzZWNyZXQ=
```
## Step 3: Decode Secret
```sh
[System.Text.Encoding]::UTF8.GetString([System.Convert]::FromBase64String("c3VwZXJzZWNyZXQ="))
```
### Output:

```nginx
supersecret
```


## Step 4: Define Secret in Helm Template
Defining secret  within a Kubernetes `Secret` resource template in Helm chart.

```yaml
apiVersion: v1
kind: Secret
metadata:
  name: my-secret
type: Opaque
data:
  MY_PASS: {{ .Values.secret.password | b64enc }}
```

## Step 5: Define the Secret in values.yaml
Defining the secret value in the values.yaml file. The password that will be base64 encoded.

```yaml
secret:
  password: "supersecret"
```

## Step 6: Reference the Secret in Deployment
Setting it up in Kubernetes Deployment template.

```yaml
...
env:
  - name: MY_PASS
    valueFrom:
      secretKeyRef:
        name: my-secret
        key: MY_PASS
```
## Step 7: Install the Helm Chart

```sh
helm upgrade --install your-app k8s/your-app
```
### Output:
```makefile
Release "your-app" does not exist. Installing it now.
NAME: your-app
LAST DEPLOYED: Fri Mar  7 11:38:32 2025
NAMESPACE: default
STATUS: deployed
REVISION: 1
```

## Step 8: Verify Pod and Environment Variable

```sh
kubectl exec your-app-57df4bb44c-f2t57 -- printenv | Select-String "MY_PASS"
```

### Output:
```makefile
MY_PASS=supersecret
```