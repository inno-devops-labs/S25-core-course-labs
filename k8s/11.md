## Secrets

### Task 1

```bash
> kubectl create secret generic secret --from-literal=PASSWORD=pass
```
```bash
secret/secret created
```

```bash
> kubectl get secrets
```
```bash
NAME                               TYPE                 DATA   AGE
secret                             Opaque               1      25s
sh.helm.release.v1.helm-hooks.v1   helm.sh/release.v1   1      5d23h
```

```bash
> kubectl get secret secret -o jsonpath='{.data}'
```
```bash
{"PASSWORD":"cGFzcw=="}
```

```bash
> echo "cGFzcw==" | base64 -d
```
```bash
pass
```

## With Helm

```bash
> helm secrets upgrade --install app-python . -f secrets.yaml
```
```bash
[helm-secrets] Decrypt: secrets.yaml
Release "app-python" has been upgraded. Happy Helming!
LAST DEPLOYED: Wed Mar 12 19:23:58 2025
NAMESPACE: default
STATUS: deployed
NOTES:
1. Get the application URL by running these commands:
  export POD_NAME=$(kubectl get pods --namespace default -l "app.kubernetes.io/name=app-python,app.kubernetes.io/instance=app-python" -o jsonpath="{.items[0].metadata.name}")
  export CONTAINER_PORT=$(kubectl get pod --namespace default $POD_NAME -o jsonpath="{.spec.containers[0].ports[0].containerPort}")
  echo "Visit http://127.0.0.1:8080 to use your application"
  kubectl --namespace default port-forward $POD_NAME 8080:$CONTAINER_PORT
[helm-secrets] Removed: secrets.yaml.dec
```
```bash
> kubectl get po
```
```bash
NAME                                     READY   STATUS    RESTARTS   AGE
app-python-6cfdcf9668-8vb5h              1/1     Running   0          10s
helm-hooks-app-python-5b7575787d-fmjh5   1/1     Running   0          10s
```
```bash
> kubectl exec app-python-6cfdcf9668-8vb5h -- printenv | findstr PASSWORD 
```
```bash
PASSWORD=pass
```
