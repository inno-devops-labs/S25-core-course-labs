# Lab 11 Report

## Task 1: Kubernetes Secrets

### Step 1.1: Create Secret
```bash
kubectl create secret generic app-secret --from-literal=DB_PASSWORD='s3cur3P@ssw0rd'
```

### Step 1.2: Verify Secret
```bash
kubectl get secret app-secret -o yaml
```
```
apiVersion: v1
data:
  DB_PASSWORD: czNjdXIzUEBzc3cwcmQ=
kind: Secret
metadata:
  creationTimestamp: "2025-03-09T19:24:56Z"
  name: app-secret
  namespace: default
  resourceVersion: "5027"
  uid: 0d0b999b-6494-4d6f-b52c-d8fb8d58c33a
type: Opaque
```

### Step 1.3: Decode Secret
```bash
kubectl get secret app-secret -o jsonpath='{.data.DB_PASSWORD}' | base64 --decode
```
```
s3cur3P@ssw0rd
```

### Step 1.4: Helm Secret Integration
```bash
# File: templates/secrets.yaml
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Release.Name }}-secret
data:
  DB_PASSWORD: {{ .Values.dbPassword | b64enc }}
```

### Step 1.5: Verify in Pod
```bash
kubectl exec $POD_NAME -- printenv | grep DB_PASSWORD
```
```

```

## Task 2: Hashicorp Vault

### Step 2.1: Install Vault
```bash
helm repo add hashicorp https://helm.releases.hashicorp.com
helm install vault hashicorp/vault --set server.dev.enabled=true

```

```
NAME: vault
STATUS: deployed
```
### Step 2.2: Configure Vault Secret
```bash
kubectl exec -it vault-0 -c vault -- vault kv put secret/app-secret db_password='s3cur3P@ssw0rd'
```

```
Success! Data written to: secret/app-secret
```
### Step 2.3: Verify Secret Injection

```bash
kubectl exec $POD_NAME -- cat /vault/secrets/db-password
```

```
s3cur3P@ssw0rd
```