## Task 1: Kubernetes Secrets and Resource Management

1. Create secret and verify creation by decoding:

```bash
~/PyCharmProjects/S25-core-course-labs <lab11*> $ kubectl create secret generic mysecret --from-literal=username=secret-user --from-literal=password=secret-password
secret/mysecret created
~/PyCharmProjects/S25-core-course-labs <lab11*> $ kubectl describe secret mysecret
Name:         mysecret
Namespace:    default
Labels:       <none>
Annotations:  <none>

Type:  Opaque

Data
====
password:  15 bytes
username:  11 bytes
~/PyCharmProjects/S25-core-course-labs <lab11*> $ kubectl get secret mysecret -o jsonpath='{.data}'
{"password":"c2VjcmV0LXBhc3N3b3Jk","username":"c2VjcmV0LXVzZXI="}
~/PyCharmProjects/S25-core-course-labs <lab11*> $ kubectl get secret mysecret -o jsonpath='{.data.password}' | base64 --decode
secret-password
~/PyCharmProjects/S25-core-course-labs <lab11*> $ kubectl get secret mysecret -o jsonpath='{.data.username}' | base64 --decode
secret-user
```

2. Verify secret inside pod:

```bash
~/PyCharmProjects/S25-core-course-labs <lab11*> $ kubectl get po
NAME                             READY   STATUS    RESTARTS   AGE
app-python-7bcff74974-kzcmv      1/1     Running   0          115s
~/PyCharmProjects/S25-core-course-labs <lab11*> $ kubectl exec app-python-7bcff74974-kzcmv -- printenv | grep secret-password
PASSWORD=secret-password
```

```bash
~/PyCharmProjects/S25-core-course-labs <lab11*> $ helm secrets view secrets.yaml
password: secret-password
```

## Task 2: Vault Secret Management System

```bash
~/PyCharmProjects/S25-core-course-labs/k8s <lab11*> $ kubectl get pods
NAME                                   READY   STATUS    RESTARTS   AGE
app-python-7bcff74974-kzcmv            1/1     Running   0          83m
vault-0                                1/1     Running   0          18m
vault-agent-injector-d8fc5d77-29blp    1/1     Running   0          18m
~/PyCharmProjects/S25-core-course-labs/k8s <lab11*> $ kubectl describe pods
~/PyCharmProjects/S25-core-course-labs/k8s <lab11*> $ kubectl exec -it vault-0 -- /bin/sh
/ $ vault secrets enable -path=internal kv-v2
Success! Enabled the kv-v2 secrets engine at: internal/
/ $ vault kv put internal/database/config username="secret-user" password="secret-password"
======= Secret Path =======
internal/data/database/config

======= Metadata =======
Key              Value
---              -----
created_time     2025-03-09T17:59:42.333552297Z
custom_metadata  <nil>
deletion_time    n/a
destroyed        false
version          1
/ $ vault kv get internal/database/config
======= Secret Path =======
internal/data/database/config

======= Metadata =======
Key              Value
---              -----
created_time     2025-03-09T17:59:42.333552297Z
custom_metadata  <nil>
deletion_time    n/a
destroyed        false
version          1

======= Data =======
Key         Value
---         -----
password    secret-password
username    secret-user
/ $ exit
```