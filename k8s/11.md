# Kubernetes Secrets and Hashicorp Vault

## Task 1

How I create and show secret:

```bash
gleb@gleb-VMware-Virtual-Platform:~/Desktop/DevOps/Labs/S25-core-course-labs/k8s$ kubectl create secret generic app-secret --from-literal=MY_PASS=my_pass

secret/app-secret created

gleb@gleb-VMware-Virtual-Platform:~/Desktop/DevOps/Labs/S25-core-course-labs/k8s$ kubectl get secrets

NAME                                    TYPE                 DATA   AGE
app-secret                              Opaque               1      5s
sh.helm.release.v1.python-time-app.v1   helm.sh/release.v1   1      6m2s

gleb@gleb-VMware-Virtual-Platform:~/Desktop/DevOps/Labs/S25-core-course-labs/k8s$ kubectl get secret app-secret -o yaml

apiVersion: v1
data:
  MY_PASS: bXlfcGFzcw==
kind: Secret
metadata:
  creationTimestamp: "2025-03-04T17:43:42Z"
  name: app-secret
  namespace: default
  resourceVersion: "2210"
  uid: 51ba88a8-c5f8-4f14-896c-77348ad2a171
type: Opaque
```

And then decode it (I am using windows, so I used PowerShell to decode secret):

```bash
gleb@gleb-VMware-Virtual-Platform:~/Desktop/DevOps/Labs/S25-core-course-labs/k8s$ echo "bXlfcGFzcw==" | base64 -d

my_pass
```

As the next step I configured secrets with Helm according to provided video and encrypt MY_PASS secret using helm-secrets and my gpg key. Then I installed an application and this is an output for the required commands:

```bash
gleb@gleb-VMware-Virtual-Platform:~/Desktop/DevOps/Labs/S25-core-course-labs/k8s$ helm install python-time-app ./python-time-app --set appName=python-time-app --set appVersion=1.0 -f ./secrets.yaml

NAME: python-time-app
LAST DEPLOYED: Tue Mar  4 21:54:47 2025
NAMESPACE: default
STATUS: deployed
REVISION: 1
NOTES:
1. Get the application URL by running these commands:
  export POD_NAME=$(kubectl get pods --namespace default -l "app.kubernetes.io/name=python-time-app,app.kubernetes.io/instance=python-time-app" -o jsonpath="{.items[0].metadata.name}")
  export CONTAINER_PORT=$(kubectl get pod --namespace default $POD_NAME -o jsonpath="{.spec.containers[0].ports[0].containerPort}")
  echo "Visit http://127.0.0.1:8080 to use your application"
  kubectl --namespace default port-forward $POD_NAME 8080:$CONTAINER_PORT

gleb@gleb-VMware-Virtual-Platform:~/Desktop/DevOps/Labs/S25-core-course-labs/k8s$ kubectl get po

NAME                               READY   STATUS    RESTARTS   AGE
python-time-app-6799bc96d4-bglkz   1/1     Running   0          47s
gleb@gleb-VMware-Virtual-Platform:~/Desktop/DevOps/Labs/

S25-core-course-labs/k8s$ kubectl exec python-time-app-6799bc96d4-bglkz -- printenv | grep MY_PASS

MY_PASS=ENC[AES256_GCM,data:Vl2wA5vYBw==,iv:YA/IEFrq1SUFmjZutQ5ywI0OoNG9yV5mZDB+qJxSzOY=,tag:LLx7N0Aa/437uZuh72ZNTQ==,type:str]
```

---

## Task 2



---

## Bonus Task



---
