# ðŸ“œ Ansible Deployment Documentation

## ðŸš€ Overview
This document describes the Ansible-based deployment of Docker and a web application using Docker Compose.  
The playbook automates the installation of Docker and launches an Nginx container.

---

## ðŸ“Œ Running the Playbook

To execute the playbook, run:

```bash
ansible-playbook -i ansible/inventory/default_aws_ec2.yml ansible/playbooks/dev/main.yaml -K
```

```bash
BECOME password: 

PLAY [Deploy Docker] **********************************************************************************************************************************************************************************************************************

TASK [Gathering Facts] ********************************************************************************************************************************************************************************************************************
[WARNING]: Platform linux on host myserver is using the discovered Python interpreter at /usr/bin/python3.12, but future installation of another Python interpreter could change the meaning of that path. See
https://docs.ansible.com/ansible-core/2.18/reference_appendices/interpreter_discovery.html for more information.
ok: [myserver]

TASK [docker : Install required system packages] ******************************************************************************************************************************************************************************************
ok: [myserver]

TASK [docker : Add Dockerâ€™s official GPG key] *********************************************************************************************************************************************************************************************
ok: [myserver]

TASK [docker : Set up the Docker stable repository] ***************************************************************************************************************************************************************************************
ok: [myserver]

TASK [docker : Install Docker CE, CLI, and containerd] ************************************************************************************************************************************************************************************
ok: [myserver]

TASK [docker : Start and enable Docker service] *******************************************************************************************************************************************************************************************
ok: [myserver]

TASK [docker : Add user to Docker group] **************************************************************************************************************************************************************************************************
ok: [myserver]

TASK [docker : Download Docker Compose] ***************************************************************************************************************************************************************************************************
ok: [myserver]

TASK [docker : Verify Docker Compose installation] ****************************************************************************************************************************************************************************************
skipping: [myserver]

TASK [docker : debug] *********************************************************************************************************************************************************************************************************************
ok: [myserver] => {
    "msg": "Docker Compose version: "
}

TASK [web_app : Ensure Docker is installed] ***********************************************************************************************************************************************************************************************
skipping: [myserver]

TASK [web_app : debug] ********************************************************************************************************************************************************************************************************************
ok: [myserver] => {
    "msg": "Docker is installed: "
}

TASK [web_app : Ensure Docker Compose is installed] ***************************************************************************************************************************************************************************************
skipping: [myserver]

TASK [web_app : debug] ********************************************************************************************************************************************************************************************************************
ok: [myserver] => {
    "msg": "Docker Compose is installed: "
}

TASK [web_app : Copy `docker-compose.yml` template] ***************************************************************************************************************************************************************************************
ok: [myserver]

TASK [web_app : Start the web application] ************************************************************************************************************************************************************************************************
skipping: [myserver]

PLAY RECAP ********************************************************************************************************************************************************************************************************************************
myserver                   : ok=12   changed=0    unreachable=0    failed=0    skipped=4    rescued=0    ignored=0   
```

Output of `ansible-inventory`
```bash
{
    "_meta": {
        "hostvars": {
            "myserver": {
                "ansible_host": "45.142.122.102",
                "ansible_ssh_private_key_file": "~/.ssh/id_rsa_devops",
                "ansible_user": "venom"
            }
        }
    },
    "all": {
        "children": [
            "ungrouped"
        ]
    },
    "ungrouped": {
        "hosts": [
            "myserver"
        ]
    }
}
```
