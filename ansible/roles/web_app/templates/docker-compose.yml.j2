version: '3.8'

services:
  moscow-time:
    image: {{ web_app_image }}
    container_name: {{ web_app_container_name }}
    ports:
      - "{{ web_app_host_port }}:{{ web_app_port }}"
    restart: {{ web_app_restart_policy }}
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:5000/"]
      interval: 30s
      timeout: 10s
      retries: 3
    deploy:
      resources:
        limits:
          memory: {{ web_app_memory }}
          cpus: {{ web_app_cpus }}
